硬链接是指通过索引节点（inode）来进行链接，在linux（ext2,ext3,ext4）文件
系统中，保存在磁盘分区中的文件不管什么类型都会给他分配一个编号，
这个编号被称为索引节点编号（index inode）简称inode，即系统中文件的编号
   在linux文件系统中，多个文件名指向同一个索引节点是正常且允许的，这种情况的文件
就被称为硬链接，提示：硬链接文件就相当于文件的另一个入口，硬链接的作用之一是
允许一个文件拥有多个有效路径名（多个入口），这样用户就可以建立硬链接到重要的文件，
以防止误删源数据（很多硬件存储，如netapp存储中的快照功能就应用了这个原理，增加一个快照就多了一个硬链接），
为什么一个文件建立了硬链接就会防止数据误删呢？
  因为文件系统（ext2）的原理是，只有文件的索引节点还有一个以上的硬链接，只删除其中一个硬链接并不影响索引节点本身和
  其他的链接，只有当文件的最后一个链接被删除后，此时如果有新数据要存储到硬盘上时或者系统通过类似fsck做磁盘检查时，被删除的文件
  数据块及目录的链接才会被释放，空间被新数据占用并覆盖，此时，数据就再也无法找回了
  
  也就是说，在linux系统中，删除静态文件（没有进程调用）的条件是与之相关的所有硬链接文件均被删除
硬链接的创建：
直接执行命令“ln 源文件 硬链接文件”
小结：
1.具有相同inode节点号的多个文件是互为硬链接文件
2.删除硬链接文件或者删除源文件任意之一，文件实体并未被删除
3.只有删除了源文件及所有对应的硬链接文件，文件实体才会被删除
4.当所有的硬链接文件及源文件被删除后，再存放新的数据会占用这个文件的空间，
或者磁盘fsck检查的时候，删除的数据也会被系统回收
5.硬链接文件就是文件的另一个入口，
6.可以通过给文件设置硬链接文件，来防止重要文件被误删
7.通过执行命令“ln 源文件 硬链接文件”即可完成创建硬链接
8.硬链接文件可以用rm命令删除
9.对于静态文件（没有进程正在调用的文件）来讲，当对应硬链接数为0（i_links），文件就被删除,i_links的查看方法（ls -l结果的第三列就是）

删除原理描述：
linux的文件名是存在父目录的block里面，并指向这个文件的inode节点，这个文件的inode节点再标记指向存放这个文件的block的数据块，
我们删除一个文件，实际上并不清除inode节点和block的数据，只是在这个文件的父目录里面的block中，删除这个文件的名字，从而使这个文件名消失，
并且无法指向这个文件的inode节点，当没有文件名指向这个inode节点时候，会同时释放inode节点和存放这个文件的数据块，并更新inode MAP和block MAP
今后让这些位置可以用于放置其他文件数据

文件删除控制的变量：
i_link 文件的硬链接数量
i_count 引用计数（有一个程序使用i_count加1）
文件删除的条件：
i_link=0,i_count=0


软链接
（soft link ） 也称为符号链接，linux里的软链接文件类似于windows系统中的快捷方式，
linux里软链接文件实际上是一个特殊的文件，文件类型是l
软链接文件实际上可以理解为一个文本文件，这个文件中包含有软链接指向另一源文件的位置信息内容
因此，通过访问这个快捷方式就可以迅速定位到软链接所指向的源文件实体
软链接知识小结：
1.软链接类似windows快捷方式（可以通过readlink查看其指向）
2.软链接类似一个文本文件，里面存放的是源文件的路径，指向源文件的实体
3.删除源文件，软链接文件依然存在，但是无法访问指向的文件路径内容了
4.失效的时候一般是白字红底闪烁提示old_boy_soft_link_file->oldboy_file
5.执行命令“ln -s 源文件 软链接文件”即可完成创建软链接（目标不能存在）
6.软链接和源文件是不同类型的文件，也是不同的文件，inode号也不同
7.删除软链接文件可以用rm命令

小结：当删除原始文件oldboyfile后，其硬链接文件oldboy_hard_link不受影响，对应的数据依然存在，
但是对应的软链接文件oldboy_soft_link就失效了，找不到源文件了，此时，可以删除软链接文件重新创建，
或者创建一个oldboyfile_hard_link的硬链接文件oldboyfile

有关目录链接的小结：
1.对于目录，不可以创建硬链接，但可以创建软链接
2.对于目录的软链接是生产场景运维中常用的技巧
3.目录的硬链接不能跨越文件系统（从硬链接的原理可以理解）
4.每个目录下面都有一个硬链接“.”号，和对应上级目录的硬链接“..”
5.在父目录里创建一个子目录，父目录的链接数增加1（子目录都有..来指向父目录）
   但在父目录里创建文件，父目录的链接数不会增加

描述linux下软链接和硬链接的区别
解答：
在linux系统中，链接分两种：一种被称为硬链接，另一种被称为软链接或符号链接
1.默认不带参数情况下，ln 命令创建的是硬链接，带-s参数的ln命令创建的是软链接
2.硬链接文件与源文件的inode节点号相同，而软链接文件的inode节点号与源文件不同
3.ln命令不能对目录创建硬链接，但可以创建软链接，对目录的软链接会经常被用到
4.删除软链接文件，对源文件及硬链接文件无任何影响
5.删除文件的硬链接文件，对原文件及软链接文件无任何影响
6.删除链接文件的源文件，对硬链接文件无影响，会导致其软链接失效（红底白字闪烁状）
7.同时删除源文件及其硬链接文件，整个文件才会被真正的删除
8.很多硬件设备中的快照功能，使用的就类似硬链接的原理
9.软链接可以跨文件系统，硬链接不可以跨文件系统
思路：
1.介绍软硬链接的概念
2.对于文件的软硬链接区别
3.对于目录的软硬链接区别

软链接在生产场景的作用
1.我们编译apache软件是，编译的路径带着版本号/application/apache2.2.21(为了区分版本用，因此路径比较长)，
而在访问目录时又希望简便，此时就可以通过建立一个简单的软链接路径文件ln -s /application/apache2.2.21 /application/apache
达到方便访问的目的，当软件升级高版本后，只需删除链接文件重建到高版本路径的软链接即可
2.企业代码发布时（PHP程序），需要把所有代码传到一个新发布的临时目录或者新的站点目录，发布时要么一个mv，也可以重建软链接指向这个新的临时目录或者新的站点目录
3.不方便目录移动，使用ln -s

有关软链接的使用建议：生产情况应尽可能少或者说合理的创建软链接，不要过多的使用软链接，
否则在数据迁移时会引起麻烦，软链接过多也会造成目录看起来很混乱




